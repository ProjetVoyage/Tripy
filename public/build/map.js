(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["map"],{

/***/ "./assets/css/map.css":
/*!****************************!*\
  !*** ./assets/css/map.css ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "./assets/js/map.js":
/*!**************************!*\
  !*** ./assets/js/map.js ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(/*! ../css/map.css */ "./assets/css/map.css");

window.onload = function () {
  var map = L.map('map').setView([48.833, 2.333], 6);
  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(map);
  var searchControl = L.esri.Geocoding.geosearch().addTo(map);
  var groupMarkerSearch = L.layerGroup().addTo(map); // création et ajout du LayerGroup

  lgMarkers = new L.LayerGroup();
  searchControl.on('results', function (data) {
    groupMarkerSearch.clearLayers();

    for (var i = data.results.length - 1; i >= 0; i--) {
      console.log(data);
      var latlgnData = data.results[i].latlng;
      $.ajax({
        type: 'GET',
        url: "http://nominatim.openstreetmap.org/reverse",
        dataType: 'jsonp',
        jsonpCallback: 'data',
        data: {
          format: "json",
          limit: 1,
          lat: data.results[i].latlng.lat,
          lon: data.results[i].latlng.lng,
          adressdetails: 1,
          json_callback: 'data'
        },
        error: function error(xhr, ajaxOptions, thrownError) {
          if (xhr.status !== 200) {
            alert('Problème de requète');
          }
        },
        success: function success(data) {
          if (data.address !== undefined) {
            country = data.address['country'];

            if (data.address['city'] !== undefined) {
              city = data.address['city'];
            } else if (data.address['state'] !== undefined) {
              city = data.address['state'];
            }

            lgMarkers.clearLayers();
            map.addLayer(lgMarkers);
            groupMarkerSearch.addLayer(L.marker(latlgnData).bindPopup(" Pays : " + country + " <br> Ville : " + city).openPopup());
            $('.leaflet-marker-icon').trigger('click');
            $("input[name='itinerary[countryName]']").val(country);
            $("input[name='itinerary[cityName]']").val(city);
          }
        }
      });
    }
  });
  map.on('click', function (e) {
    groupMarkerSearch.clearLayers();
    $.ajax({
      type: 'GET',
      url: "http://nominatim.openstreetmap.org/reverse",
      dataType: 'jsonp',
      jsonpCallback: 'data',
      data: {
        format: "json",
        limit: 1,
        lat: e.latlng.lat,
        lon: e.latlng.lng,
        adressdetails: 1,
        json_callback: 'data'
      },
      error: function error() {
        alert('Problème de requète');
      },
      success: function success(data) {
        if (data.address !== undefined) {
          country = data.address['country'];

          if (data.address['city'] !== undefined) {
            city = data.address['city'];
          } else if (data.address['county'] !== undefined) {
            city = data.address['county'];
          } else if (data.address['state'] !== undefined) {
            city = data.address['state'];
          }

          lgMarkers.clearLayers();
          map.addLayer(lgMarkers);
          L.marker(e.latlng).addTo(lgMarkers).bindPopup(" Pays : " + country + " <br> Ville : " + city).openPopup();
          $("input[name='itinerary[countryName]']").val(country);
          $("input[name='itinerary[cityName]']").val(city);
        }
      }
    });
  });
};

/***/ })

},[["./assets/js/map.js","runtime"]]]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hc3NldHMvY3NzL21hcC5jc3M/ZGQ0NSIsIndlYnBhY2s6Ly8vLi9hc3NldHMvanMvbWFwLmpzIl0sIm5hbWVzIjpbInJlcXVpcmUiLCJ3aW5kb3ciLCJvbmxvYWQiLCJtYXAiLCJMIiwic2V0VmlldyIsInRpbGVMYXllciIsImFkZFRvIiwic2VhcmNoQ29udHJvbCIsImVzcmkiLCJHZW9jb2RpbmciLCJnZW9zZWFyY2giLCJncm91cE1hcmtlclNlYXJjaCIsImxheWVyR3JvdXAiLCJsZ01hcmtlcnMiLCJMYXllckdyb3VwIiwib24iLCJkYXRhIiwiY2xlYXJMYXllcnMiLCJpIiwicmVzdWx0cyIsImxlbmd0aCIsImNvbnNvbGUiLCJsb2ciLCJsYXRsZ25EYXRhIiwibGF0bG5nIiwiJCIsImFqYXgiLCJ0eXBlIiwidXJsIiwiZGF0YVR5cGUiLCJqc29ucENhbGxiYWNrIiwiZm9ybWF0IiwibGltaXQiLCJsYXQiLCJsb24iLCJsbmciLCJhZHJlc3NkZXRhaWxzIiwianNvbl9jYWxsYmFjayIsImVycm9yIiwieGhyIiwiYWpheE9wdGlvbnMiLCJ0aHJvd25FcnJvciIsInN0YXR1cyIsImFsZXJ0Iiwic3VjY2VzcyIsImFkZHJlc3MiLCJ1bmRlZmluZWQiLCJjb3VudHJ5IiwiY2l0eSIsImFkZExheWVyIiwibWFya2VyIiwiYmluZFBvcHVwIiwib3BlblBvcHVwIiwidHJpZ2dlciIsInZhbCIsImUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBLHVDOzs7Ozs7Ozs7OztBQ0FBQSxtQkFBTyxDQUFDLDRDQUFELENBQVA7O0FBRUFDLE1BQU0sQ0FBQ0MsTUFBUCxHQUFnQixZQUFZO0FBRXhCLE1BQUlDLEdBQUcsR0FBR0MsQ0FBQyxDQUFDRCxHQUFGLENBQU0sS0FBTixFQUFhRSxPQUFiLENBQXFCLENBQUMsTUFBRCxFQUFTLEtBQVQsQ0FBckIsRUFBc0MsQ0FBdEMsQ0FBVjtBQUVBRCxHQUFDLENBQUNFLFNBQUYsQ0FBWSxvREFBWixF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QTlCLEVBQXlDO0FBQzNDRSxnQkFBSSxHQUFHaEMsSUFBSSxDQUFDNkIsT0FBTCxDQUFhLE9BQWIsQ0FBUDtBQUNIOztBQUVEaEMsbUJBQVMsQ0FBQ0ksV0FBVjtBQUNBZixhQUFHLENBQUMrQyxRQUFKLENBQWFwQyxTQUFiO0FBRUFWLFdBQUMsQ0FBQytDLE1BQUYsQ0FBU0ssQ0FBQyxDQUFDL0IsTUFBWCxFQUFtQmxCLEtBQW5CLENBQXlCTyxTQUF6QixFQUFvQ3NDLFNBQXBDLENBQThDLGFBQWFKLE9BQWIsR0FBdUIsZ0JBQXZCLEdBQTBDQyxJQUF4RixFQUE4RkksU0FBOUY7QUFFQTNCLFdBQUMsQ0FBRSxzQ0FBRixDQUFELENBQTRDNkIsR0FBNUMsQ0FBZ0RQLE9BQWhEO0FBQ0F0QixXQUFDLENBQUUsbUNBQUYsQ0FBRCxDQUF5QzZCLEdBQXpDLENBQTZDTixJQUE3QztBQUNIO0FBQ1Y7QUFwQ0UsS0FBUDtBQXNDRyxHQXpDRDtBQTJDSCxDQXhHRCxDIiwiZmlsZSI6Im1hcC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpbiIsInJlcXVpcmUoJy4uL2Nzcy9tYXAuY3NzJyk7XHJcblxyXG53aW5kb3cub25sb2FkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgXHJcbiAgICB2YXIgbWFwID0gTC5tYXAoJ21hcCcpLnNldFZpZXcoWzQ4LjgzMywgMi4zMzNdLCA2KTtcclxuXHJcbiAgICBMLnRpbGVMYXllcignaHR0cHM6Ly97c30udGlsZS5vcGVuc3RyZWV0bWFwLm9yZy97en0ve3h9L3t5fS5wbmcnKS5hZGRUbyhtYXApO1xyXG5cclxuICAgIHZhciBzZWFyY2hDb250cm9sID0gTC5lc3JpLkdlb2NvZGluZy5nZW9zZWFyY2goKS5hZGRUbyhtYXApO1xyXG5cclxuICAgIHZhciBncm91cE1hcmtlclNlYXJjaCA9IEwubGF5ZXJHcm91cCgpLmFkZFRvKG1hcCk7XHJcblxyXG4gICAgLy8gY3LDqWF0aW9uIGV0IGFqb3V0IGR1IExheWVyR3JvdXBcclxuICAgIGxnTWFya2VycyA9IG5ldyBMLkxheWVyR3JvdXAoKTtcclxuXHJcbiAgICBzZWFyY2hDb250cm9sLm9uKCdyZXN1bHRzJywgZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgXHJcbiAgICAgICAgZ3JvdXBNYXJrZXJTZWFyY2guY2xlYXJMYXllcnMoKTtcclxuICAgICAgICBmb3IgKHZhciBpID0gZGF0YS5yZXN1bHRzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgICAgICAgICB2YXIgbGF0bGduRGF0YSA9IGRhdGEucmVzdWx0c1tpXS5sYXRsbmc7XHJcblxyXG4gICAgICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgdHlwZTogJ0dFVCcsXHJcbiAgICAgICAgICAgICAgICB1cmw6IFwiaHR0cDovL25vbWluYXRpbS5vcGVuc3RyZWV0bWFwLm9yZy9yZXZlcnNlXCIsXHJcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2pzb25wJyxcclxuICAgICAgICAgICAgICAgIGpzb25wQ2FsbGJhY2s6ICdkYXRhJyxcclxuICAgICAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICBmb3JtYXQ6IFwianNvblwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGxpbWl0OiAxLFxyXG4gICAgICAgICAgICAgICAgICAgIGxhdDogZGF0YS5yZXN1bHRzW2ldLmxhdGxuZy5sYXQsXHJcbiAgICAgICAgICAgICAgICAgICAgbG9uOiBkYXRhLnJlc3VsdHNbaV0ubGF0bG5nLmxuZyxcclxuICAgICAgICAgICAgICAgICAgICBhZHJlc3NkZXRhaWxzIDogMSxcclxuICAgICAgICAgICAgICAgICAgICBqc29uX2NhbGxiYWNrOiAnZGF0YSdcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24oeGhyLCBhamF4T3B0aW9ucywgdGhyb3duRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiggeGhyLnN0YXR1cyAhPT0gMjAwICl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KCdQcm9ibMOobWUgZGUgcmVxdcOodGUnKTsgXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKCBkYXRhLmFkZHJlc3MgIT09IHVuZGVmaW5lZCApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb3VudHJ5ID0gZGF0YS5hZGRyZXNzWydjb3VudHJ5J107XHJcbiAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIGRhdGEuYWRkcmVzc1snY2l0eSddICE9PSB1bmRlZmluZWQgKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNpdHkgPSBkYXRhLmFkZHJlc3NbJ2NpdHknXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2UgaWYoIGRhdGEuYWRkcmVzc1snc3RhdGUnXSAhPT0gdW5kZWZpbmVkICl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaXR5ID0gZGF0YS5hZGRyZXNzWydzdGF0ZSddO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZ01hcmtlcnMuY2xlYXJMYXllcnMoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWFwLmFkZExheWVyKGxnTWFya2Vycyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBncm91cE1hcmtlclNlYXJjaC5hZGRMYXllcihMLm1hcmtlcihsYXRsZ25EYXRhKS5iaW5kUG9wdXAoXCIgUGF5cyA6IFwiICsgY291bnRyeSArIFwiIDxicj4gVmlsbGUgOiBcIiArIGNpdHkpLm9wZW5Qb3B1cCgpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmxlYWZsZXQtbWFya2VyLWljb24nKS50cmlnZ2VyKCdjbGljaycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCBcImlucHV0W25hbWU9J2l0aW5lcmFyeVtjb3VudHJ5TmFtZV0nXVwiICkudmFsKGNvdW50cnkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCBcImlucHV0W25hbWU9J2l0aW5lcmFyeVtjaXR5TmFtZV0nXVwiICkudmFsKGNpdHkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIG1hcC5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgZ3JvdXBNYXJrZXJTZWFyY2guY2xlYXJMYXllcnMoKTtcclxuICAgICAgICBcclxuXHRcdCQuYWpheCh7XHJcblx0XHQgICAgdHlwZTogJ0dFVCcsXHJcblx0XHQgICAgdXJsOiBcImh0dHA6Ly9ub21pbmF0aW0ub3BlbnN0cmVldG1hcC5vcmcvcmV2ZXJzZVwiLFxyXG5cdFx0ICAgIGRhdGFUeXBlOiAnanNvbnAnLFxyXG5cdFx0ICAgIGpzb25wQ2FsbGJhY2s6ICdkYXRhJyxcclxuICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgZm9ybWF0OiBcImpzb25cIixcclxuICAgICAgICAgICAgICAgIGxpbWl0OiAxLFxyXG4gICAgICAgICAgICAgICAgbGF0OiBlLmxhdGxuZy5sYXQsXHJcbiAgICAgICAgICAgICAgICBsb246IGUubGF0bG5nLmxuZyxcclxuICAgICAgICAgICAgICAgIGFkcmVzc2RldGFpbHMgOiAxLFxyXG4gICAgICAgICAgICAgICAganNvbl9jYWxsYmFjazogJ2RhdGEnXHJcbiAgICAgICAgICAgIH0sXHJcblx0XHQgICAgZXJyb3I6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBhbGVydCgnUHJvYmzDqG1lIGRlIHJlcXXDqHRlJyk7IH0sXHJcblx0XHQgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGlmKCBkYXRhLmFkZHJlc3MgIT09IHVuZGVmaW5lZCApe1xyXG4gICAgICAgICAgICAgICAgICAgIGNvdW50cnkgPSBkYXRhLmFkZHJlc3NbJ2NvdW50cnknXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYoIGRhdGEuYWRkcmVzc1snY2l0eSddICE9PSB1bmRlZmluZWQgKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2l0eSA9IGRhdGEuYWRkcmVzc1snY2l0eSddO1xyXG4gICAgICAgICAgICAgICAgICAgIH1lbHNlIGlmKCBkYXRhLmFkZHJlc3NbJ2NvdW50eSddICE9PSB1bmRlZmluZWQgKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2l0eSA9IGRhdGEuYWRkcmVzc1snY291bnR5J107XHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2UgaWYoIGRhdGEuYWRkcmVzc1snc3RhdGUnXSAhPT0gdW5kZWZpbmVkICl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNpdHkgPSBkYXRhLmFkZHJlc3NbJ3N0YXRlJ107XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIGxnTWFya2Vycy5jbGVhckxheWVycygpO1xyXG4gICAgICAgICAgICAgICAgICAgIG1hcC5hZGRMYXllcihsZ01hcmtlcnMpO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgTC5tYXJrZXIoZS5sYXRsbmcpLmFkZFRvKGxnTWFya2VycykuYmluZFBvcHVwKFwiIFBheXMgOiBcIiArIGNvdW50cnkgKyBcIiA8YnI+IFZpbGxlIDogXCIgKyBjaXR5KS5vcGVuUG9wdXAoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgJCggXCJpbnB1dFtuYW1lPSdpdGluZXJhcnlbY291bnRyeU5hbWVdJ11cIiApLnZhbChjb3VudHJ5KTtcclxuICAgICAgICAgICAgICAgICAgICAkKCBcImlucHV0W25hbWU9J2l0aW5lcmFyeVtjaXR5TmFtZV0nXVwiICkudmFsKGNpdHkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cdFx0ICAgIH1cclxuXHRcdH0pO1xyXG4gICAgfSk7XHJcblxyXG59Il0sInNvdXJjZVJvb3QiOiIifQ==